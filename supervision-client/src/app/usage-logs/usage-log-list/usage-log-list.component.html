<div class="panel">
  <div class="panel-title">Usage Logs</div>
  <div class="panel-content">

    <button mat-raised-button (click)="loadUsageLogs()" type="submit" color="primary">
      <mat-icon aria-label="Load">archive</mat-icon> Every usage logs
    </button>

    <div style="margin-left: 40px; display: inline-block;">
      <mat-form-field>
          <input matInput placeholder="Id of the customer" type="text" [(ngModel)]="customerId" (keyup.enter)="getLastUsageLogs()">
      </mat-form-field>

      <button mat-raised-button (click)="getLastUsageLogs()" type="submit" color="primary">
        <mat-icon aria-label="Last 100 logs">timelapse</mat-icon> Last 100 logs for this customer
      </button>
    </div>

<!--
<ol>
  <li *ngFor="let log of usageLogs">{{ log.id }} {{ log.date | date: 'dd/MM/y'}} {{ log.firstName }}</li>
</ol>
-->
<mat-table [dataSource]=usageLogs>
  <ng-container matColumnDef="date">
    <mat-header-cell *matHeaderCellDef> Date </mat-header-cell>
    <mat-cell *matCellDef="let row"> {{ row.date | date: 'dd/MM/y - HH:mm:ss' }} </mat-cell>
  </ng-container>

  <ng-container matColumnDef="user">
    <mat-header-cell *matHeaderCellDef> User </mat-header-cell>
    <mat-cell *matCellDef="let row"> {{ row.user.firstName }} {{ row.user.lastName }} </mat-cell>
  </ng-container>

  <ng-container matColumnDef="page">
      <mat-header-cell *matHeaderCellDef> Page </mat-header-cell>
      <mat-cell *matCellDef="let row"> {{ row.page }} </mat-cell>
  </ng-container>

  <ng-container matColumnDef="category">
      <mat-header-cell *matHeaderCellDef> Category </mat-header-cell>
      <mat-cell *matCellDef="let row"> {{ row.category }} </mat-cell>
  </ng-container>

  <ng-container matColumnDef="entity">
      <mat-header-cell *matHeaderCellDef> Entity </mat-header-cell>
      <mat-cell *matCellDef="let row"> {{ row.entity }} </mat-cell>
  </ng-container>

  <ng-container matColumnDef="actionType">
      <mat-header-cell *matHeaderCellDef> Action type </mat-header-cell>
      <mat-cell *matCellDef="let row"> {{ row.actionType }} </mat-cell>
  </ng-container>

  <ng-container matColumnDef="targetId">
      <mat-header-cell *matHeaderCellDef> Target id </mat-header-cell>
      <mat-cell *matCellDef="let row"> {{ row.targetId }} </mat-cell>
  </ng-container>

  <mat-header-row *matHeaderRowDef="columnsToDisplay"></mat-header-row>
  <mat-row *matRowDef="let myRowData; columns: columnsToDisplay"></mat-row>

</mat-table>

</div>